!function(e){"use strict";window.qodeWishlistForWooCommerce={},qodeWishlistForWooCommerce.shortcodes={},qodeWishlistForWooCommerce.body=e("body"),qodeWishlistForWooCommerce.html=e("html"),qodeWishlistForWooCommerce.windowWidth=e(window).width(),qodeWishlistForWooCommerce.windowHeight=e(window).height(),qodeWishlistForWooCommerce.scroll=0,e(document).ready(function(){qodeWishlistForWooCommerce.scroll=e(window).scrollTop()}),e(window).resize(function(){qodeWishlistForWooCommerce.windowWidth=e(window).width(),qodeWishlistForWooCommerce.windowHeight=e(window).height()}),e(window).scroll(function(){qodeWishlistForWooCommerce.scroll=e(window).scrollTop()}),e(window).on("load",function(){});qodeWishlistForWooCommerce.qodeWishlistForWooCommerceAppear={init:function(){this.holder=e(".qwfw--has-appear:not(.qwfw--appeared)"),this.holder.length&&this.holder.each(function(){var t=e(this);qodeWishlistForWooCommerce.qodeWishlistForWooCommerceIsInViewport.check(t,function(){qodeWishlistForWooCommerce.qodeWishlistForWooCommerceWaitForImages.check(t,function(){t.addClass("qwfw--appeared")})})})}};var t={check:function(e,o,i,n){var t,a;e.length&&(t=void 0!==e.data("viewport-offset")?e.data("viewport-offset"):.15,(a=new IntersectionObserver(function(t){!0===t[0].isIntersecting?(o.call(e),!1!==i&&a.disconnect()):n&&!1===i&&n.call(e)},{threshold:[t]})).observe(e[0]))}},t=(qodeWishlistForWooCommerce.qodeWishlistForWooCommerceIsInViewport=t,{check:function(t,e){if(t.length){var o=t.find("img"),i=o.length;if(i)for(var n=0,a=0;a<i;a++){var s,d=o[a];d.complete?++n===i&&e.call(t):((s=new Image).addEventListener("load",function(){if(++n===i)return e.call(t),!1},!1),s.src=d.src)}else e.call(t)}}}),i=(qodeWishlistForWooCommerce.qodeWishlistForWooCommerceWaitForImages=t,{disable:function(){window.addEventListener&&window.addEventListener("wheel",i.preventDefaultValue,{passive:!1}),document.onkeydown=i.keyDown},enable:function(){window.removeEventListener&&window.removeEventListener("wheel",i.preventDefaultValue,{passive:!1}),window.onmousewheel=document.onmousewheel=document.onkeydown=null},preventDefaultValue:function(t){(t=t||window.event).preventDefault&&t.preventDefault(),t.returnValue=!1},keyDown:function(t){for(var e=[37,38,39,40],o=e.length;o--;)if(t.keyCode===e[o])return void i.preventDefaultValue(t)}});qodeWishlistForWooCommerce.qodeWishlistForWooCommerceScroll=i}(jQuery),function(a){"use strict";a(document).ready(function(){s.init()}),a(document).on("qode_wishlist_for_woocommerce_trigger_show_wishlist_modal",function(t,e,o,i){var n=a("#qode-wishlist-for-woocommerce-modal");n.length&&""!==e&&(i&&(n.addClass("qwfw--item-added"),n.attr("data-item-id",o)),s.updateModalContent(n,e),s.showWishlist(n))}),a(document).on("qode_wishlist_for_woocommerce_trigger_hide_wishlist_modal",function(t,e){var o=a("#qode-wishlist-for-woocommerce-modal");o.length&&o.hasClass("qwfw--item-added")&&e===parseInt(o.attr("data-item-id"),10)&&(o.removeClass("qwfw--item-added"),s.hideWishlist(o))});var s={init:function(){var t=a("#qode-wishlist-for-woocommerce-modal");t.length&&this.setEventsAction(t)},setEventsAction:function(e){e.find(".qwfw-m-close").on("click tap",function(t){t.preventDefault(),s.hideWishlist(e)}),e.children(".qwfw-m-overlay").on("click tap",function(){s.hideWishlist(e)}),a(window).on("keyup",function(t){27===t.keyCode&&s.hideWishlist(e)})},showWishlist:function(t){t.hasClass("qwfw--opened")||(t.addClass("qwfw--opened"),qodeWishlistForWooCommerce.qodeWishlistForWooCommerceScroll.disable())},hideWishlist:function(t,e){t.hasClass("qwfw--opened")&&(t.removeClass("qwfw--opened"),void 0===e&&t.addClass("qwfw--adding"),qodeWishlistForWooCommerce.qodeWishlistForWooCommerceScroll.enable(),setTimeout(function(){s.cleanModalContent(t)},1e3))},updateModalContent:function(e,t){e.find(".qwfw-m-product").empty().html(t),e.find(".qwfw-m-form-response-button.qwfw--shop").on("click tap",function(t){a(document.body).hasClass("single-product")||(t.preventDefault(),s.hideWishlist(e))})},cleanModalContent:function(t){t.find(".qwfw-m-product").empty()}};qodeWishlistForWooCommerce.qodeWishlistForWooCommerceInitWishlistModal=s}(jQuery),function(l){"use strict";l(document).ready(function(){c.init()}),l(document).on("qode_quick_view_for_woocommerce_trigger_quick_view",function(t,e){c.reInit(e)}),l(document).on("woocommerce_variation_has_changed",function(){var t,e=l(".single_variation_wrap");e.length&&(t=e.find('input[name="product_id"]').val(),e=e.find('input[name="variation_id"]').val(),t)&&c.setVariationsAttributes(t,e)}),l(document).on("qode_wishlist_for_woocommerce_trigger_wishlist_table_updated",function(t,e,o,i,n,a){void 0===a&&o.length&&o.forEach(function(t){var e=l(".qwfw-add-to-wishlist[data-item-id="+t+"]");e.length&&e.each(function(){c.updateItem(l(this),n,t,!0)})})}),l(document).on("qode_wishlist_for_woocommerce_trigger_wishlist_widget_updated",function(t,e,o,i,n,a){void 0===a&&o.length&&o.forEach(function(t){var e=l(".qwfw-add-to-wishlist[data-item-id="+t+"]");e.length&&e.each(function(){c.updateItem(l(this),n,t,!0)})})});var c={init:function(){var t=".qwfw-add-to-wishlist:not(.qwfw-behavior--view.qwfw--added):not(.qwfw--disable)";l(t).length&&l(document).on("click",t,function(t){t.preventDefault(),c.updateItem(l(this))}),this.adjsWishlistPosition()},reInit:function(t){t=t.find(".qwfw-add-to-wishlist:not(.qwfw-behavior--view.qwfw--added):not(.qwfw--disable)");t.length&&c.setEventsAction(t),this.adjsWishlistPosition()},setEventsAction:function(t){t&&t.off().on("click tap",function(t){t.preventDefault(),c.updateItem(l(this))})},adjsWishlistPosition:function(){var t=l(".qwfw-add-to-wishlist-wrapper.qwfw-position--on-thumbnail.qwfw-thumb--top-right.qwfw-count--on, .qwfw-add-to-wishlist-wrapper.qwfw-position--on-thumbnail.qwfw-thumb--bottom-right.qwfw-count--on");t.length&&t.each(function(){var t=l(this),e=t.find(".qwfw-m-count.qwfw--visible");e.length&&t.css("--qwfw-atw-thumb-offset-adjs",e.outerWidth()+"px")})},setVariationsAttributes:function(t,e){var o=l('.qwfw-add-to-wishlist[data-original-item-id="'+t+'"]:not(.qwfw--disable)');o.length&&(e=e.length?e:t,o.attr("data-item-id",e),c.updateItem(o,"update_variation",e))},updateItem:function(o,t,e,i,n,a){var s=JSON.parse(o.attr("data-shortcode-atts")),d=void 0!==t?t:"remove"===s.button_behavior&&o.hasClass("qwfw--added")?"remove":"add",r=parseInt(void 0!==e?e:o.attr("data-item-id"),10);if(!o)return!0;l.ajax({type:"POST",url:qodeWishlistForWooCommerceGlobal.restUrl+qodeWishlistForWooCommerceGlobal.addToWishlistRestRoute,data:{item_id:r,action:d,options:o.attr("data-shortcode-atts"),security_token:qodeWishlistForWooCommerceGlobal.restNonce},beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",qodeWishlistForWooCommerceGlobal.restNonce),o.addClass("qwfw--loading")},complete:function(){o.removeClass("qwfw--loading")},success:function(t){var e;"success"===t.status?void 0!==t.data.popup_html&&""!==t.data.popup_html&&o.hasClass("qwfw-behavior--add")&&o.hasClass("qwfw--added")?l(document.body).trigger("qode_wishlist_for_woocommerce_trigger_show_wishlist_modal",[t.data.popup_html,r]):(e=l(".qwfw-add-to-wishlist[data-item-id="+r+"]"),c.updateProductButton(e,t.data.button_html),o.hasClass("qwfw-behavior--view")&&c.updateProductButtonLink(e,t.data),void 0===n||void 0!==a&&!a?["add","remove"].includes(d)?("remove"===d?e.removeClass("qwfw--added"):e.addClass("qwfw--added"),void 0===i&&(l(document.body).trigger("qode_wishlist_for_woocommerce_trigger_updated_wishlist_item",[o,r,d]),l(document.body).trigger("qode_wishlist_for_woocommerce_trigger_show_wishlist_modal",[t.data.popup_html,r,!0]),setTimeout(function(){l(document.body).trigger("qode_wishlist_for_woocommerce_trigger_hide_wishlist_modal",[r])},qodeWishlistForWooCommerceGlobal.hideWishlistModalTime))):"update_variation"===d&&(t.data.is_item_added?e.addClass("qwfw--added"):e.removeClass("qwfw--added"),void 0===i)&&l(document.body).trigger("qode_wishlist_for_woocommerce_trigger_updated_wishlist_item",[o,r,d]):window.location=n):"error"===t.status&&console.log(t.message)}})},updateProductButton:function(t,e){""!==e&&(t.empty().html(e),c.adjsWishlistPosition())},updateProductButtonLink:function(t,e){void 0!==e.wishlist_page_url&&""!==e.wishlist_page_url&&(t.attr("href",e.wishlist_page_url),t.off().on("click tap",function(t){t.preventDefault(),window.location=l(this).attr("href")})),void 0!==e.is_item_added&&!e.is_item_added&&2<t.attr("href").length&&c.setEventsAction(t)}};qodeWishlistForWooCommerce.qodeWishlistForWooCommerceInitAddToWishlist=c}(jQuery),function(d){"use strict";d(document).ready(function(){r.init()}),d(document).on("qode_wishlist_for_woocommerce_trigger_wishlist_table_updated",function(t,e){r.reInit(e)}),d(document).on("qode_wishlist_for_woocommerce_trigger_updated_wishlist_item",function(t,e,o,i){var n=d(".qwfw-wishlist-table");n.length&&n.each(function(){r.updateTable(d(this),e,[o],"",i,"add-to-wishlist")})}),d(document).on("qode_wishlist_for_woocommerce_trigger_updated_multi_wishlist_item",function(t,e,o,i,n){var a=d('.qwfw-wishlist-table[data-table="'+i+'"]');a.length&&a.each(function(){r.updateTable(d(this),e,[o],i,n,"add-to-wishlist")})}),d(document).on("qode_wishlist_for_woocommerce_trigger_wishlist_widget_updated",function(t,e,o,i,n,a){var s=d(".qwfw-wishlist-table");void 0===a&&s.length&&"remove"===n&&s.each(function(){r.updateTable(d(this),"",o,i,n,"wishlist-dropdown")})});var r={init:function(){var t=d(".qwfw-wishlist-table");t.length&&t.each(function(){var t=d(this);r.setEventsAction(t),r.initOrdering(t),r.initPagination(t)})},reInit:function(t){r.setEventsAction(t)},setEventsAction:function(i){var n,a,t=i.find(".qwfw-e-remove-button"),t=(t.length&&t.off().on("click tap",function(t){t.preventDefault(),r.removeItem(i,d(this))}),i.find(".qwfw-e-add-to-cart:not(.product_type_variable):not(.product_type_external):not(.product_type_grouped):not(.qwfw--out-of-stock)")),t=(t.length&&!i.hasClass("qwfw--has-token")&&t.off().on("click tap",function(t){t.preventDefault(),r.ajaxAddToCart(i,[d(this)])}),i.find(".qwfw-e-item.product-quantity :input, .qwfw-e-content-item.qwfw--quantity :input"));t.length&&t.on("change",function(){var t=d(this),e=i.hasClass("qwfw-layout--gallery")?t.closest(".qwfw-m-gallery-item"):t.closest(".qwfw-m-items-content-row"),o=parseInt(e.attr("data-item-id"),10);clearTimeout(a),e.find(".qwfw-e-add-to-cart:not(.product_type_variable):not(.product_type_external):not(.product_type_grouped)").attr("data-quantity",t.val()),a=setTimeout(function(){n&&n.abort(),n=d.ajax({type:"POST",url:qodeWishlistForWooCommerceGlobal.restUrl+qodeWishlistForWooCommerceGlobal.wishlistTableUpdateQuantityRestRoute,data:{item_id:o,quantity:parseInt(t.val(),10),table:i.attr("data-table"),token:i.attr("data-token"),security_token:qodeWishlistForWooCommerceGlobal.restNonce},beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",qodeWishlistForWooCommerceGlobal.restNonce),i.addClass("qwfw--table-updating")},complete:function(){i.removeClass("qwfw--table-updating")},success:function(t){"error"===t.status&&console.log(t.message)}})},1e3)})},removeItem:function(e,o){var i=parseInt(o.attr("data-item-id"),10),t=o.attr("data-confirm-text");r.handleConfirmBox(t).then(function(t){t&&r.updateTable(e,o,[i],"","remove")})},handleConfirmBox:function(t,e){var i=d(e?qodeWishlistForWooCommerceGlobal.confirmSimpleModalHTML:qodeWishlistForWooCommerceGlobal.confirmModalHTML);return i.find(".qwfw-m-form-title").empty().html(t),document.body.appendChild(i[0]),new Promise(function(e,t){var o=document.getElementById("qwfw-confirm-button-true");o&&o.addEventListener("click",function(){e(!0),document.body.removeChild(i[0])});["qwfw-confirm-modal-overlay","qwfw-confirm-close-icon","qwfw-confirm-button-false"].forEach(function(t){t=document.getElementById(t);t&&t.addEventListener("click",function(t){t.preventDefault(),e(!1),document.body.removeChild(i[0])})})})},updateTable:function(e,o,i,t,n,a){var s=void 0!==t&&t.length?t:e.attr("data-table");void 0!==i&&i.length?d.ajax({type:"POST",url:qodeWishlistForWooCommerceGlobal.restUrl+qodeWishlistForWooCommerceGlobal.wishlistTableRestRoute,data:{item_ids:i,action:n,table:s,token:e.attr("data-token"),options:e.attr("data-shortcode-atts"),security_token:qodeWishlistForWooCommerceGlobal.restNonce},beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",qodeWishlistForWooCommerceGlobal.restNonce),e.addClass("qwfw--table-updating"),o.length&&o.addClass("qwfw--loading")},complete:function(){e.removeClass("qwfw--table-updating"),o.length&&o.removeClass("qwfw--loading")},success:function(t){"success"===t.status?t.data.not_found_content?r.updateShortcodeContent(e,t.data.not_found_content,i,s,n,a):(r.updateTableContent(e,t.data.new_content,i,s,n,a),r.updatePaginationHTML(e,t.data),r.updateItemsCountHTML(e,t.data),r.updateTotalAmountHTML(e,t.data)):"error"===t.status&&console.log(t.message)}}):o.length&&o.removeClass("qwfw--loading")},moveToTable:function(e,t,o,i){d.ajax({type:"POST",url:qodeWishlistForWooCommerceGlobal.restUrl+qodeWishlistForWooCommerceGlobal.wishlistTableMoveItemsRestRoute,data:{item_ids:t,table:o,new_table:i,security_token:qodeWishlistForWooCommerceGlobal.restNonce},beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",qodeWishlistForWooCommerceGlobal.restNonce),e.addClass("qwfw--table-updating")},success:function(t){"success"===t.status&&location.reload()}})},updateShortcodeContent:function(t,e,o,i,n,a){t.find(".qwfw-m-inner").empty().html(e),d(document.body).trigger("qode_wishlist_for_woocommerce_trigger_wishlist_table_updated",[t,o,i,n,a])},updateTableContent:function(t,e,o,i,n,a){t.find(".qwfw-m-items").empty().html(e),d(document.body).trigger("qode_wishlist_for_woocommerce_trigger_wishlist_table_updated",[t,o,i,n,a])},ajaxAddToCart:function(t,e,o){if(e.length){var i=void 0!==o?parseInt(o,10):0,n=i+1===e.length,a=e[i];if(!a.attr("data-product_id"))return!0;var s={};d.each(a.data(),function(t,e){s[t]=e}),d.each(a[0].dataset,function(t,e){s[t]=e}),d(document.body).trigger("adding_to_cart",[a,s]),d.ajax({type:"POST",url:wc_add_to_cart_params.wc_ajax_url.toString().replace("%%endpoint%%","add_to_cart"),data:s,dataType:"json",beforeSend:function(){t.addClass("qwfw--table-updating"),a.addClass("qwfw--loading")},complete:function(){t.removeClass("qwfw--table-updating"),void 0===a.attr("data-remove-from-wishlist")&&a.removeClass("qwfw--loading"),n||r.ajaxAddToCart(t,e,i+1)},success:function(t){t&&(t.error&&t.product_url?window.location=t.product_url:(d(document.body).trigger("added_to_cart",[t.fragments,t.cart_hash,a]),void 0!==a.attr("data-remove-from-wishlist")?(a.parents(".qwfw-m-items-content-row").css("display","none"),qodeWishlistForWooCommerce.qodeWishlistForWooCommerceInitAddToWishlist.updateItem(d('.qwfw-add-to-wishlist[data-original-item-id="'+a.attr("data-product_id")+'"]:not(.qwfw--disable)'),"remove",a.attr("data-product_id"),!1,a.attr("data-redirect-to-cart"),n)):void 0!==a.attr("data-redirect-to-cart")&&n&&(window.location=a.attr("data-redirect-to-cart"))))}})}},initOrdering:function(e){var t=e.find(".qwfw-m-ordering-field");t.length&&t.off().on("change",function(t){t.preventDefault();t=d(this).val();r.getNewPaginationItems(e,!1,t)})},initPagination:function(t){var e;t.hasClass("qwfw--dashboard-page")||(e=t.find(".qwfw-m-pagination-items")).length&&r.setPaginationEventsAction(t,e)},setPaginationEventsAction:function(e,t){t.find(".qwfw-m-pagination-item").off().on("click tap",function(t){t.preventDefault();t=d(this);t.hasClass("qwfw--active")||r.getNewPaginationItems(e,t)})},getNewPaginationItems:function(e,t,o){var i=e.find(".qwfw-m-items"),n=JSON.parse(e.attr("data-shortcode-atts"));t&&(n.current=t.attr("data-paged")),void 0!==o&&(n.orderby=o),e.attr("data-shortcode-atts",JSON.stringify(n)),d.ajax({type:"GET",url:qodeWishlistForWooCommerceGlobal.restUrl+qodeWishlistForWooCommerceGlobal.wishlistTablePaginationRestRoute,data:{options:JSON.stringify(n),token:e.attr("data-token"),security_token:qodeWishlistForWooCommerceGlobal.restNonce},beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",qodeWishlistForWooCommerceGlobal.restNonce),e.addClass("qwfw--table-updating")},complete:function(){e.removeClass("qwfw--table-updating")},success:function(t){"success"===t.status?(i.empty().html(t.data.new_content),r.updatePaginationState(e,t.data.new_shortcode_atts),r.reInit(e),d(document.body).trigger("qode_wishlist_for_woocommerce_trigger_wishlist_table_pagination_updated",[e])):console.log(t.message)}})},updatePaginationState:function(t,e){var t=t.find(".qwfw-m-pagination-items"),o=t.children(".qwfw--number"),i=t.children(".qwfw--prev"),t=t.children(".qwfw--next"),n=parseInt(e.current,10);o.removeClass("qwfw--active").eq(n-1).addClass("qwfw--active"),i.attr("data-paged",n-1),t.attr("data-paged",n+1),1<n?i.show():i.hide(),n===e.total?t.hide():t.show()},updatePaginationHTML:function(t,e){var o,i=t.find(".qwfw-m-pagination");i.length&&""!==e.new_pagination_content&&(o=e.new_shortcode_atts,i.empty().html(e.new_pagination_content),r.setPaginationVisibility(t,parseInt(o.total,10)),r.updatePaginationState(t,o),r.setPaginationEventsAction(t,t.find(".qwfw-m-pagination-items")))},setPaginationVisibility:function(t,e){t=t.find(".qwfw-m-pagination");1!==e||t.hasClass("qwfw--hide")?1<e&&!t.is(":visible")&&t.removeClass("qwfw--hide"):t.addClass("qwfw--hide")},updateItemsCountHTML:function(t,e){t=t.find(".qwfw-m-section-heading .qwfw-m-section-items-count-value");t.length&&""!==e.new_shortcode_atts.items_count&&t.empty().html(parseInt(e.new_shortcode_atts.items_count,10))},updateTotalAmountHTML:function(t,e){t=t.find(".qwfw-m-total-amount");t.length&&""!==e.new_total_amount_content&&t.empty().html(e.new_total_amount_content)}};qodeWishlistForWooCommerce.qodeWishlistForWooCommerceInitWishlistTable=r}(jQuery);